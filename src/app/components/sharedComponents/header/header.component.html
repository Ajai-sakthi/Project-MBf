<header class="header">
  <!-- Sidebar Toggle Button -->
  <button aria-label="Toggle Sidebar" (click)="toggleSidebar()">
    <i class="fa fa-bars" aria-hidden="true"></i>
  </button>

  <!-- Logo Section -->
  <div class="logo">
    <h2><a routerLink="/" aria-label="Home">Cine Paradiso</a></h2>
  </div>

  <!-- Top Navigation -->
  <nav class="top-nav" role="navigation" aria-label="Main Navigation">
    <ul class="nav-list">
      <li><a routerLink="/movies" aria-label="Movies">Movies</a></li>
    </ul>
  </nav>

  <!-- Search and Filter only visible on movie list page -->
  <div *ngIf="showSearchAndFilter" class="search-bar">
    <i class="fa fa-search search-icon" aria-hidden="true"></i>
    <input
      type="text"
      placeholder="Search"
      [formControl]="searchQuery"
      aria-label="Search Movies or Shows"
    />
    <i class="fa fa-filter filter-icon" (click)="openFilterMenu()"></i>
  </div>

  <!-- Filter Modal -->
  <div *ngIf="isFilterMenuOpen && showSearchAndFilter" class="filter-menu">
    <h4>Filter Options</h4>
    <label>
      Rating:
      <select [(ngModel)]="selectedRating" (change)="applyFilters()">
        <option value="">Select Rating</option>
        <option *ngFor="let rating of ratingOptions" [value]="rating">{{ rating }}</option>
      </select>
    </label>
    <label>
      Genre:
      <select [(ngModel)]="selectedGenre" (change)="applyFilters()">
        <option value="">Select Genre</option>
        <option *ngFor="let genre of genreOptions" [value]="genre">{{ genre }}</option>
      </select>
    </label>
    <label>
      Language:
      <select [(ngModel)]="selectedLanguage" (change)="applyFilters()">
        <option value="">Select Language</option>
        <option *ngFor="let language of languageOptions" [value]="language">{{ language }}</option>
      </select>
    </label>
  </div>

  <!-- Auth Links -->
  <nav class="auth-links">
    <ul>
      <li *ngIf="!isLoggedIn()">
        <a routerLink="/login"><i class="fa fa-sign-in" aria-hidden="true"></i> Log In</a>
      </li>
      <li *ngIf="!isLoggedIn()">
        <a routerLink="/register"><i class="fa fa-sign-out" aria-hidden="true"></i> Sign Up</a>
      </li>
      <li *ngIf="isLoggedIn()">
        <a (click)="logout()"><i class="fa fa-sign-out" aria-hidden="true"></i> Logout</a>
      </li>
    </ul>
  </nav>

  <!-- Profile & Notifications -->
  <div class="profile-menu">
    <i class="fa fa-bell notification-icon" aria-hidden="true"></i>
    <i class="fa fa-heart wishlist-icon" routerLink="/wishlist" aria-hidden="true"></i>
    <a routerLink="/cart">
      <i class="fa fa-shopping-cart" aria-hidden="true">
        <span class="cart-count">{{ cartCount }}</span>
      </i>
    </a>
  </div>
</header>
