<header class="header">
  <!-- Sidebar Toggle Button -->
  <button aria-label="Toggle Sidebar" (click)="toggleSidebar()">
    <i class="fa fa-bars" aria-hidden="true"></i>
  </button>

  <!-- Logo Section -->
  <div class="logo">
    <h2><a routerLink="/" aria-label="Home">Cine Paradiso</a></h2>
  </div>

  <!-- Top Navigation -->
  <nav class="top-nav" role="navigation" aria-label="Main Navigation">
    <ul class="nav-list">
      <li><a routerLink="/movies" aria-label="Movies">Movies</a></li>
    </ul>
  </nav>

<!-- Search Bar -->
<div class="search-bar">
  <i class="fa fa-search search-icon" aria-hidden="true"></i>
  <input
    type="text"
    placeholder="Search"
    [(ngModel)]="searchQuery"
    (input)="onSearch()"
    (keydown)="onSearchEnter($event)"
    aria-label="Search Movies or Shows"
  />
  <i class="fa fa-filter filter-icon" (click)="openFilterMenu()"></i>
</div>

<!-- Search Results -->
<div *ngIf="showSearchResults && filteredMovies.length > 0" class="search-results">
  <ul>
    <li *ngFor="let movie of filteredMovies" (click)="closeSearchResults(); router.navigate(['/movies', movie.name])">
      {{ movie.name }}
    </li>
  </ul>
</div>


<!-- Filter Modal -->
<!-- Filter Menu -->
<div *ngIf="isFilterMenuOpen" class="filter-menu">
  <h4>Filter Options</h4>
  <label>
    Rating:
    <select [(ngModel)]="selectedRating" (change)="applyFilters()">
      <option value="">Select Rating</option>
      <option *ngFor="let rating of ratingOptions" [value]="rating">{{ rating }}</option>
    </select>
  </label>

  <label>
    Genre:
    <select [(ngModel)]="selectedGenre" (change)="applyFilters()">
      <option value="">Select Genre</option>
      <option *ngFor="let genre of genreOptions" [value]="genre">{{ genre }}</option>
    </select>
  </label>

  <label>
    Language:
    <select [(ngModel)]="selectedLanguage" (change)="applyFilters()">
      <option value="">Select Language</option>
      <option *ngFor="let language of languageOptions" [value]="language">{{ language }}</option>
    </select>
  </label>
</div>




  <!-- Auth Links -->
  <nav class="auth-links">
    <ul>
      <!-- Hide Login and Sign Up links if user is logged in -->
      <li *ngIf="!isLoggedIn()">
        <a routerLink="/login"><i class="fa fa-sign-in" aria-hidden="true"></i> Log In</a>
      </li>
      <li *ngIf="!isLoggedIn()">
        <a routerLink="/register"><i class="fa fa-sign-out" aria-hidden="true"></i> Sign Up</a>
      </li>
      <!-- Show Logout link if user is logged in -->
      <li *ngIf="isLoggedIn()">
        <a (click)="logout()"><i class="fa fa-sign-out" aria-hidden="true"></i> Logout</a>
      </li>
    </ul>
  </nav>

  <!-- Profile & Notifications -->
  <div class="profile-menu">
    <i class="fa fa-bell notification-icon" aria-hidden="true"></i>

    <!-- Wishlist Icon -->
    <i class="fa fa-heart wishlist-icon" routerLink="/wishlist" aria-hidden="true"></i>

    <!-- Cart Icon -->
   <!-- Cart Icon -->
<a routerLink="/cart">
  <i class="fa fa-shopping-cart" aria-hidden="true"><span class="cart-count">{{ cartCount }}</span></i>
   <!-- Dynamic cart count -->
</a>

  </div>
</header>
